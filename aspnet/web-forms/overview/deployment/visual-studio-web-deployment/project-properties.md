---
uid: web-forms/overview/deployment/visual-studio-web-deployment/project-properties
title: "使用 Visual Studio 的 ASP.NET Web 部署： 项目属性 |Microsoft 文档"
author: tdykstra
description: "本系列教程演示如何部署 （发布） ASP.NET web 应用程序到 Azure App Service Web Apps 或第三方托管提供程序，使用的..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/15/2013
ms.topic: article
ms.assetid: ec1cec4c-a75f-47af-a2ba-b1e2f971d24b
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/project-properties
msc.type: authoredcontent
ms.openlocfilehash: 68a1892dcf8055d8cc898f471a96d86e8abb64de
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/10/2017
---
<a name="aspnet-web-deployment-using-visual-studio-project-properties"></a><span data-ttu-id="5a8e8-103">使用 Visual Studio 的 ASP.NET Web 部署： 项目属性</span><span class="sxs-lookup"><span data-stu-id="5a8e8-103">ASP.NET Web Deployment using Visual Studio: Project Properties</span></span>
====================
<span data-ttu-id="5a8e8-104">通过[Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="5a8e8-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="5a8e8-105">下载初学者项目</span><span class="sxs-lookup"><span data-stu-id="5a8e8-105">Download Starter Project</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=282627)

> <span data-ttu-id="5a8e8-106">本系列教程演示如何部署 （发布） ASP.NET web 应用程序到 Azure App Service Web Apps 或第三方托管提供程序，通过使用 Visual Studio 2012 或 Visual Studio 2010。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-106">This tutorial series shows you how to deploy (publish) an ASP.NET web application to Azure App Service Web Apps or to a third-party hosting provider, by using Visual Studio 2012 or Visual Studio 2010.</span></span> <span data-ttu-id="5a8e8-107">有关序列的信息，请参阅[序列中的第一个教程](introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-107">For information about the series, see [the first tutorial in the series](introduction.md).</span></span>


## <a name="overview"></a><span data-ttu-id="5a8e8-108">概述</span><span class="sxs-lookup"><span data-stu-id="5a8e8-108">Overview</span></span>

<span data-ttu-id="5a8e8-109">存储在项目文件中的项目属性中配置一些部署选项 ( *.csproj*或*.vbproj*文件)。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-109">Some deployment options are configured in project properties that are stored in the project file (the *.csproj* or *.vbproj* file).</span></span> <span data-ttu-id="5a8e8-110">在大多数情况下，这些设置的默认值是所需的但你可以使用**项目属性**UI 内置于 Visual Studio 以使用这些设置，如果你需要更改它们。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-110">In most cases, the default values of these settings are what you want, but you can use the **Project Properties** UI built into Visual Studio to work with these settings if you have to change them.</span></span> <span data-ttu-id="5a8e8-111">在本教程中，你将查看中的部署设置**项目属性**。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-111">In this tutorial you review the deployment settings in **Project Properties**.</span></span> <span data-ttu-id="5a8e8-112">你还创建一个占位符文件导致要部署的空文件夹。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-112">You also create a placeholder file that causes an empty folder to be deployed.</span></span>

## <a name="configure-deployment-settings-in-the-project-properties-window"></a><span data-ttu-id="5a8e8-113">在项目属性窗口中配置部署设置</span><span class="sxs-lookup"><span data-stu-id="5a8e8-113">Configure deployment settings in the project properties window</span></span>

<span data-ttu-id="5a8e8-114">影响会发生什么情况在部署过程的大多数设置都将纳入发布配置文件，正如在以下教程看到。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-114">Most settings that affect what happens during deployment are included in the publish profile, as you'll see in the following tutorials.</span></span> <span data-ttu-id="5a8e8-115">你应注意的几个设置位于**打包/发布**选项卡**项目属性**窗口。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-115">A few settings that you should be aware of are located in the **Package/Publish** tabs of the **Project Properties** window.</span></span> <span data-ttu-id="5a8e8-116">每个生成配置指定了这些设置-即，具有不同的设置的发布版本数量超过拥有的调试版本。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-116">These settings are specified for each build configuration — that is, you can have different settings for a Release build than you have for a Debug build.</span></span>

<span data-ttu-id="5a8e8-117">在**解决方案资源管理器**，右键单击**ContosoUniversity**项目，依次选择**属性**，然后选择**打包/发布 Web**选项卡。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-117">In **Solution Explorer**, right-click the **ContosoUniversity** project, select **Properties**, and then select the **Package/Publish Web** tab.</span></span>

![“打包/发布 Web”选项卡](project-properties/_static/image1.png)

<span data-ttu-id="5a8e8-119">当显示窗口时，它默认为显示设置的任何生成配置当前处于活动状态的解决方案。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-119">When the window is displayed, it defaults to showing settings for whichever build configuration is currently active for the solution.</span></span> <span data-ttu-id="5a8e8-120">如果**配置**框没有表明**活动 （发行版）**，选择**版本**以显示发布生成配置设置。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-120">If the **Configuration** box does not indicate **Active (Release)**, select **Release** in order to display settings for the Release build configuration.</span></span> <span data-ttu-id="5a8e8-121">你将部署到你的测试和生产环境的发布版本。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-121">You'll deploy Release builds to both your test and production environments.</span></span>

![选择发布生成配置](project-properties/_static/image2.png)

<span data-ttu-id="5a8e8-123">与**活动 （发行版）**或**版本**选择，请参阅部署使用发布生成配置时有效的值：</span><span class="sxs-lookup"><span data-stu-id="5a8e8-123">With **Active (Release)** or **Release** selected, you see the values that are effective when you deploy using the Release build configuration:</span></span>

- <span data-ttu-id="5a8e8-124">在**项部署**框中，**仅运行该应用程序所需的文件**选择。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-124">In the **Items to deploy** box, **Only files needed to run the application** is selected.</span></span> <span data-ttu-id="5a8e8-125">其他选项**此项目中的所有文件**或**此项目文件夹中的所有文件**。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-125">Other options are **All files in this project** or **All files in this project folder**.</span></span> <span data-ttu-id="5a8e8-126">通过将保留不变的默认选择可以避免例如部署源代码文件。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-126">By leaving the default selection unchanged you avoid deploying source code files, for example.</span></span> <span data-ttu-id="5a8e8-127">此设置是为什么包含 SQL Server Compact 的二进制文件的文件夹必须包括在项目中的原因。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-127">This setting is the reason why the folders that contain the SQL Server Compact binary files had to be included in the project.</span></span> <span data-ttu-id="5a8e8-128">有关此设置的详细信息，请参阅**为什么不我的项目文件夹中的文件的所有部署呢？**中[ASP.NET Web 应用程序项目部署常见问题](https://msdn.microsoft.com/en-us/library/ee942158.aspx)。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-128">For more information about this setting, see **Why don't all of the files in my project folder get deployed?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/en-us/library/ee942158.aspx).</span></span>
- <span data-ttu-id="5a8e8-129">**排除生成调试符号**选择。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-129">**Exclude generated debug symbols** is selected.</span></span> <span data-ttu-id="5a8e8-130">你不会使用此生成配置时调试。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-130">You won't be debugging when you use this build configuration.</span></span>
- <span data-ttu-id="5a8e8-131">**包括在打包/发布 SQL 选项卡中配置的所有数据库**选择。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-131">**Include all databases configured in Package/Publish SQL tab** is selected.</span></span> <span data-ttu-id="5a8e8-132">指定是否在 Visual Studio 将部署数据库，以及文件。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-132">Specifies whether Visual Studio will deploy databases as well as files.</span></span> <span data-ttu-id="5a8e8-133">尽管复选框标签仅提及**打包/发布 SQL**选项卡上，清除此复选框将还禁用的发布配置文件中配置的数据库部署。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-133">Although the check box label only mentions the **Package/Publish SQL** tab, clearing this check box would also disable database deployment that is configured in the publish profile.</span></span> <span data-ttu-id="5a8e8-134">你将执行的更高版本，因此必须选中复选框。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-134">You will be doing that later, so the check box must remain selected.</span></span> <span data-ttu-id="5a8e8-135">**打包/发布 SQL**选项卡用于旧数据库发布你不会在这些教程中使用的方法。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-135">The **Package/Publish SQL** tab is used for a legacy database publishing method that you won't be using in these tutorials.</span></span>
- <span data-ttu-id="5a8e8-136">**Web 部署包设置**部分不适用于因为您正在使用一键式发布这些教程中。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-136">The **Web Deployment Package Settings** section does not apply because you're using one-click publish in these tutorials.</span></span>

<span data-ttu-id="5a8e8-137">更改**配置**调试以查看默认设置为调试版本下拉列表框。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-137">Change the **Configuration** drop-down box to Debug to see the default settings for Debug builds.</span></span> <span data-ttu-id="5a8e8-138">值是相同的除**排除生成的调试符号**，以便你能够调试时部署调试版本处于未选中状态。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-138">The values are the same, except **Exclude generated debug symbols** is cleared so that you can debug when you deploy a Debug build.</span></span>

## <a name="make-sure-that-the-elmah-folder-gets-deployed"></a><span data-ttu-id="5a8e8-139">请确保 Elmah 文件夹获取部署</span><span class="sxs-lookup"><span data-stu-id="5a8e8-139">Make sure that the Elmah folder gets deployed</span></span>

<span data-ttu-id="5a8e8-140">正如你在前面的教程，看到[Elmah NuGet 包](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx)提供错误日志记录和报表功能。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-140">As you saw in the previous tutorial, the [Elmah NuGet package](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx) provides functionality for error logging and reporting.</span></span> <span data-ttu-id="5a8e8-141">Contoso 大学应用程序中 Elmah 已配置为将错误详细信息存储在名为的文件夹*Elmah*:</span><span class="sxs-lookup"><span data-stu-id="5a8e8-141">In the Contoso University application Elmah has been configured to store error details in a folder named *Elmah*:</span></span>

![Elmah 文件夹](project-properties/_static/image3.png)

<span data-ttu-id="5a8e8-143">从部署中排除特定文件或文件夹是常见的要求;另一个示例是用户可以将文件上载到的文件夹。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-143">Excluding specific files or folders from deployment is a common requirement; another example would be a folder that users can upload files to.</span></span> <span data-ttu-id="5a8e8-144">你不希望日志文件，或在开发环境以便部署到生产环境中创建的文件上载。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-144">You don't want log files or uploaded files that were created in your development environment to be deployed to production.</span></span> <span data-ttu-id="5a8e8-145">并且，如果您要将更新部署到生产您不想删除在生产环境中存在的文件的部署过程。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-145">And if you are deploying an update to production you don't want the deployment process to delete files that exist in production.</span></span> <span data-ttu-id="5a8e8-146">（具体取决于如何设置部署选项，如果在部署时，目标站点，但不是源站点中存在的文件，Web 部署将其删除的目标。）</span><span class="sxs-lookup"><span data-stu-id="5a8e8-146">(Depending on how you set a deployment option, if a file exists in the destination site but not the source site when you deploy, Web Deploy deletes it from the destination.)</span></span>

<span data-ttu-id="5a8e8-147">正如你此前在本教程中，看到**项部署**选项**打包/发布 Web**选项卡设置为**只需运行此应用程序文件**。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-147">As you saw earlier in this tutorial, the **Items to deploy** option in the **Package/Publish Web** tab is set to **Only Files Needed to run this application**.</span></span> <span data-ttu-id="5a8e8-148">因此，在开发过程中创建的 Elmah 的日志文件将不部署，这是你想要发生这种情况。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-148">As a result, log files that are created by Elmah in development will not be deployed, which is what you want to happen.</span></span> <span data-ttu-id="5a8e8-149">(若要部署，他们可能需要包括在项目且其**生成操作**属性必须设置为**内容**。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-149">(To be deployed, they would have to be included in the project and their **Build Action** property would have to be set to **Content**.</span></span> <span data-ttu-id="5a8e8-150">有关详细信息，请参阅**为什么不我的项目文件夹中的文件的所有部署呢？**中[ASP.NET Web 应用程序项目部署常见问题](https://msdn.microsoft.com/en-us/library/ee942158.aspx))。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-150">For more information, see **Why don't all of the files in my project folder get deployed?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/en-us/library/ee942158.aspx)).</span></span> <span data-ttu-id="5a8e8-151">但是，Web 部署不会创建一个文件夹在目标站点中除非存在至少一个文件将复制到它。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-151">However, Web Deploy will not create a folder in the destination site unless there's at least one file to copy to it.</span></span> <span data-ttu-id="5a8e8-152">因此，你将添加*.txt*使其作为一个占位符，以便将复制文件夹的文件夹的文件。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-152">Therefore, you'll add a *.txt* file to the folder to act as a placeholder so that the folder will be copied.</span></span>

<span data-ttu-id="5a8e8-153">在**解决方案资源管理器**，右键单击*Elmah*文件夹，选择**添加新项**，并创建一个名为文本文件*Placeholder.txt*。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-153">In **Solution Explorer**, right-click the *Elmah* folder, select **Add New Item**, and create a text file named *Placeholder.txt*.</span></span> <span data-ttu-id="5a8e8-154">放入其中的以下文本:"这是一个占位符文件，以确保文件夹获取部署"。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-154">Put the following text in it: "This is a placeholder file to ensure that the folder gets deployed."</span></span> <span data-ttu-id="5a8e8-155">并保存文件。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-155">and save the file.</span></span> <span data-ttu-id="5a8e8-156">这就是你所要做为了确保 Visual Studio 部署此文件和文件夹，因为所有**生成操作**属性*.txt*文件设置为**内容**默认情况下。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-156">That's all you have to do in order to make sure that Visual Studio deploys this file and the folder it's in, because the **Build Action** property of *.txt* files is set to **Content** by default.</span></span>

## <a name="summary"></a><span data-ttu-id="5a8e8-157">摘要</span><span class="sxs-lookup"><span data-stu-id="5a8e8-157">Summary</span></span>

<span data-ttu-id="5a8e8-158">你现在已经完成的所有部署设置任务。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-158">You have now completed all of the deployment set-up tasks.</span></span> <span data-ttu-id="5a8e8-159">在下一步的教程中，你将 Contoso 大学网站部署到测试环境，并对其进行测试。</span><span class="sxs-lookup"><span data-stu-id="5a8e8-159">In the next tutorial, you'll deploy the Contoso University site to the test environment and test it there.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="5a8e8-160">[上一页](web-config-transformations.md)
[下一页](deploying-to-iis.md)</span><span class="sxs-lookup"><span data-stu-id="5a8e8-160">[Previous](web-config-transformations.md)
[Next](deploying-to-iis.md)</span></span>
