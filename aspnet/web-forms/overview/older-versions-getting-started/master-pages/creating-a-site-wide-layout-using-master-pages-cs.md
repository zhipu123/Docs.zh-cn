---
uid: web-forms/overview/older-versions-getting-started/master-pages/creating-a-site-wide-layout-using-master-pages-cs
title: "创建使用母版页 (C#) 的站点范围布局 |Microsoft 文档"
author: rick-anderson
description: "本教程将介绍母版页基础知识。 也就是说，什么是母版页，如何执行一个创建母版页、 什么是内容的占位符，如何执行一个 cr..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/21/2008
ms.topic: article
ms.assetid: 78f8d194-03b9-44a5-8255-90e7cd1c2ee1
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/creating-a-site-wide-layout-using-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 5e3507acda4958fa7caa4a22fec7603deaec73c2
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/10/2017
---
<a name="creating-a-site-wide-layout-using-master-pages-c"></a><span data-ttu-id="bd0f5-104">创建站点范围布局使用母版页 (C#)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-104">Creating a Site-Wide Layout Using Master Pages (C#)</span></span>
====================
<span data-ttu-id="bd0f5-105">通过[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="bd0f5-106">[下载代码](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_01_CS.zip)或[下载 PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_01_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-106">[Download Code](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_01_CS.zip) or [Download PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_01_CS.pdf)</span></span>

> <span data-ttu-id="bd0f5-107">本教程将介绍母版页基础知识。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-107">This tutorial will show master page basics.</span></span> <span data-ttu-id="bd0f5-108">也就是说，什么是母版页、 一个会如何创建母版页，什么是内容的占位符，如何会一个创建 ASP.NET 页使用母版页，如何修改母版页将自动反映在其关联的内容页中，依次类推。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-108">Namely, what are master pages, how does one create a master page, what are content place holders, how does one create an ASP.NET page that uses a master page, how modifying the master page is automatically reflected in its associated content pages, and so on.</span></span>


## <a name="introduction"></a><span data-ttu-id="bd0f5-109">介绍</span><span class="sxs-lookup"><span data-stu-id="bd0f5-109">Introduction</span></span>

<span data-ttu-id="bd0f5-110">设计良好的一个特性是网站的一致的站点范围页面布局。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-110">One attribute of a well-designed website is a consistent site-wide page layout.</span></span> <span data-ttu-id="bd0f5-111">以 www.asp.net 网站中，为例。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-111">Take the www.asp.net website, for example.</span></span> <span data-ttu-id="bd0f5-112">在撰写本文时，每个页都有相同的内容的顶部和页的底部。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-112">At the time of this writing, every page has the same content at the top and bottom of the page.</span></span> <span data-ttu-id="bd0f5-113">如图 1 所示，每个页面的最顶部将显示带有 Microsoft 社区的列表的灰色栏。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-113">As Figure 1 shows, the very top of each page displays a gray bar with a list of Microsoft Communities.</span></span> <span data-ttu-id="bd0f5-114">下，它是网站徽标、 向其中转换站点，语言和核心部分的列表： 主页、 开始、 了解、 下载和等。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-114">Beneath that is the site logo, the list of languages into which the site has been translated, and the core sections: Home, Get Started, Learn, Downloads, and so forth.</span></span> <span data-ttu-id="bd0f5-115">同样，页面底部包括有关广告 www.asp.net、 版权声明和的隐私声明的链接上的信息。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-115">Likewise, the bottom of the page includes information about advertising on www.asp.net, a copyright statement, and a link to the privacy statement.</span></span>


<span data-ttu-id="bd0f5-116">[![Www.asp.net 网站在所有页面采用一致的外观和感觉](creating-a-site-wide-layout-using-master-pages-cs/_static/image2.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-116">[![The www.asp.net Website Employs a Consistent Look and Feel Across All Pages](creating-a-site-wide-layout-using-master-pages-cs/_static/image2.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image1.png)</span></span>

<span data-ttu-id="bd0f5-117">**图 01**: www.asp.net 网站采用一致的外观和感觉跨所有的页面 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-117">**Figure 01**: The www.asp.net Website Employs a Consistent Look and Feel Across All Pages ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image3.png))</span></span>


<span data-ttu-id="bd0f5-118">设计良好的另一个特性是站点的站点的外观更改的方便。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-118">Another attribute of a well-designed site is the ease with which the site's appearance can be changed.</span></span> <span data-ttu-id="bd0f5-119">图 1 显示 www.asp.net 主页截至 2008 年 3 月，但现在，本教程的发布，可能已更改外观和感觉。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-119">Figure 1 shows the www.asp.net homepage as of March 2008, but between now and this tutorial's publication, the look and feel may have changed.</span></span> <span data-ttu-id="bd0f5-120">可能是沿顶部的菜单项将展开以包括一个新的节，用于 MVC 框架。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-120">Perhaps the menu items along the top will expand to include a new section for the MVC framework.</span></span> <span data-ttu-id="bd0f5-121">否则可能使用不同的颜色、 字体和布局的全新设计将活跃。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-121">Or maybe a radically new design with different colors, fonts, and layout will be unveiled.</span></span> <span data-ttu-id="bd0f5-122">将此类更改应用于整个站点应是快速而简单的过程，不需要修改将组成该网站的 web 页的数千个。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-122">Applying such changes to the entire site should be a fast and simple process that does not require modifying the thousands of web pages that make up the site.</span></span>

<span data-ttu-id="bd0f5-123">在 ASP.NET 中创建站点范围页模板是可能使用*主页*。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-123">Creating a site-wide page template in ASP.NET is possible through the use of *master pages*.</span></span> <span data-ttu-id="bd0f5-124">简而言之，母版页是一种特殊类型的定义是在所有常见的标记的 ASP.NET 页*内容页*以及是在内容页面的内容页基础上可自定义的区域。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-124">In a nutshell, a master page is a special type of ASP.NET page that defines the markup that is common among all *content pages* as well as regions that are customizable on a content page-by-content page basis.</span></span> <span data-ttu-id="bd0f5-125">（内容页是绑定到母版页的 ASP.NET 页。）每当更改母版页的布局或格式设置时，则这使得应用轻松更新和部署单个文件 （即，主控页） 的站点范围外观更改，对所有其内容页的输出同样立即更新。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-125">(A content page is an ASP.NET page that is bound to the master page.) Whenever a master page's layout or formatting is changed, all of its content pages' output is likewise immediately updated, which makes applying site-wide appearance changes as easy as updating and deploying a single file (namely, the master page).</span></span>

<span data-ttu-id="bd0f5-126">这是一系列浏览使用母版页的教程中的第一个教程。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-126">This is the first tutorial in a series of tutorials that explore using master pages.</span></span> <span data-ttu-id="bd0f5-127">在本系列教程的过程中我们：</span><span class="sxs-lookup"><span data-stu-id="bd0f5-127">Over the course of this tutorial series we:</span></span>

- <span data-ttu-id="bd0f5-128">检查创建母版页和其关联的内容页</span><span class="sxs-lookup"><span data-stu-id="bd0f5-128">Examine creating master pages and their associated content pages,</span></span>
- <span data-ttu-id="bd0f5-129">讨论各种提示、 技巧和陷阱，</span><span class="sxs-lookup"><span data-stu-id="bd0f5-129">Discuss a variety of tips, tricks, and traps,</span></span>
- <span data-ttu-id="bd0f5-130">确定母版页的常见问题和浏览解决方法，</span><span class="sxs-lookup"><span data-stu-id="bd0f5-130">Identify common master page pitfalls and explore workarounds,</span></span>
- <span data-ttu-id="bd0f5-131">请参阅如何从内容页和相反的操作访问母版页</span><span class="sxs-lookup"><span data-stu-id="bd0f5-131">See how to access the master page from a content page and vice-a-versa,</span></span>
- <span data-ttu-id="bd0f5-132">了解如何指定在运行时，内容页面的母版页和</span><span class="sxs-lookup"><span data-stu-id="bd0f5-132">Learn how to specify a content page's master page at runtime, and</span></span>
- <span data-ttu-id="bd0f5-133">其他高级母版页主题。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-133">Other advanced master page topics.</span></span>

<span data-ttu-id="bd0f5-134">这些教程旨在是简洁并提供引导你完成此过程以可视方式并提供充足的屏幕截图的分步说明。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-134">These tutorials are geared to be concise and provide step-by-step instructions with plenty of screen shots to walk you through the process visually.</span></span> <span data-ttu-id="bd0f5-135">每个教程是在 C# 和 Visual Basic 版本中可用，包括使用的完整代码下载。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-135">Each tutorial is available in C# and Visual Basic versions and includes a download of the complete code used.</span></span>

<span data-ttu-id="bd0f5-136">此篇教程开头看母版页基础知识。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-136">This inaugural tutorial starts with a look at master page basics.</span></span> <span data-ttu-id="bd0f5-137">我们讨论如何母版页的工作原理、 查看创建母版页和使用 Visual Web Developer 中，关联的内容页，请参阅如何对母版页的更改将立即反映在其内容页中。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-137">We discuss how master pages work, look at creating a master page and associated content pages using Visual Web Developer, and see how changes to a master page are immediately reflected in its content pages.</span></span> <span data-ttu-id="bd0f5-138">让我们进入正题！</span><span class="sxs-lookup"><span data-stu-id="bd0f5-138">Let's get started!</span></span>

## <a name="understanding-how-master-pages-work"></a><span data-ttu-id="bd0f5-139">了解如何母版页的工作原理</span><span class="sxs-lookup"><span data-stu-id="bd0f5-139">Understanding How Master Pages Work</span></span>

<span data-ttu-id="bd0f5-140">构建一个具有一致的站点范围页面布局的网站需要每个网页发出除了其自定义内容的常见格式设置标记。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-140">Building a website with a consistent site-wide page layout requires that each web page emit common formatting markup in addition to its custom content.</span></span> <span data-ttu-id="bd0f5-141">例如，每个教程或论坛上的发布帖子 www.asp.net 有自己唯一的内容，而每个这些页面还呈现了常见的一系列`<div>`显示顶级部分链接的元素： 主页、 开始、 了解，和等等。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-141">For example, while each tutorial or forum post on www.asp.net have their own unique content, each of these pages also render a series of common `<div>` elements that display the top-level section links: Home, Get Started, Learn, and so on.</span></span>

<span data-ttu-id="bd0f5-142">有一系列用于创建具有一致的外观和感觉的网页的技术。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-142">There are a variety of techniques for creating web pages with a consistent look and feel.</span></span> <span data-ttu-id="bd0f5-143">Naïve 方法是只需复制并粘贴到所有网页的常见的布局标记，但这种方法具有大量弊端。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-143">A naive approach is to simply copy and paste the common layout markup into all web pages, but this approach has a number of downsides.</span></span> <span data-ttu-id="bd0f5-144">对于初学者，每次创建一个新页时，你必须记得复制并粘贴到页的共享的内容。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-144">For starters, every time a new page is created, you must remember to copy and paste the shared content into the page.</span></span> <span data-ttu-id="bd0f5-145">此类复制和粘贴操作是这个错误意外，您可以将共享标记的一个子集复制到新页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-145">Such copying and pasting operations are ripe for error as you may accidentally copy only a subset of the shared markup into a new page.</span></span> <span data-ttu-id="bd0f5-146">并为了彻底，这种方法使现有的站点范围外观将替换为一个新实际困难，因为每个站点中的单页必须编辑才能使用新的外观和感觉。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-146">And to top it off, this approach makes replacing the existing site-wide appearance with a new one a real pain because every single page in the site must be edited in order to use the new look and feel.</span></span>

<span data-ttu-id="bd0f5-147">在 ASP.NET 2.0 版中之前, 页上通常放置中的常见标记的开发人员[用户控件](https://msdn.microsoft.com/en-us/library/y6wb1a0e.aspx)并随后添加到每个页的这些用户控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-147">Prior to ASP.NET version 2.0, page developers often placed common markup in [User Controls](https://msdn.microsoft.com/en-us/library/y6wb1a0e.aspx) and then added these User Controls to each and every page.</span></span> <span data-ttu-id="bd0f5-148">此方法所需页开发人员记住手动将用户控件添加到每个新的页上，而允许的更容易覆盖整个站点修改，因为更新的常见标记时仅用户控件所需修改。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-148">This approach required that the page developer remember to manually add the User Controls to every new page, but allowed for easier site-wide modifications because when updating the common markup only the User Controls needed to be modified.</span></span> <span data-ttu-id="bd0f5-149">遗憾的是，Visual Studio.NET 2002年和 2003-Visual Studio 版本的用于创建 ASP.NET 1.x 应用程序-在设计视图中的用户控件呈现为灰色的框。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-149">Unfortunately, Visual Studio .NET 2002 and 2003 - the versions of Visual Studio used to create ASP.NET 1.x applications - rendered User Controls in the Design view as gray boxes.</span></span> <span data-ttu-id="bd0f5-150">因此，使用此方法的页开发人员未不喜欢所见即所得的设计时环境。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-150">Consequently, page developers using this approach did not enjoy a WYSIWYG design-time environment.</span></span>

<span data-ttu-id="bd0f5-151">使用用户控件的不足之处已解决在 ASP.NET 2.0 版和 Visual Studio 2005 中，通过引入*主页*。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-151">The shortcomings of using User Controls were addressed in ASP.NET version 2.0 and Visual Studio 2005 with the introduction of *master pages*.</span></span> <span data-ttu-id="bd0f5-152">母版页是一种特殊类型的定义这两个站点范围标记的 ASP.NET 页和*区域*其中关联*内容页*定义其自定义标记。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-152">A master page is a special type of ASP.NET page that defines both the site-wide markup and the *regions* where associated *content pages* define their custom markup.</span></span> <span data-ttu-id="bd0f5-153">我们将会看到在步骤 1 中，这些区域定义由 ContentPlaceHolder 控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-153">As we will see in Step 1, these regions are defined by ContentPlaceHolder controls.</span></span> <span data-ttu-id="bd0f5-154">ContentPlaceHolder 控件只是表示内容页可以其中插入自定义内容的主页面控件层次结构中的位置。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-154">The ContentPlaceHolder control simply denotes a position in the master page's control hierarchy where custom content can be injected by a content page.</span></span>

> [!NOTE]
> <span data-ttu-id="bd0f5-155">ASP.NET 版本 2.0 以来未更改的核心概念和功能的主控页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-155">The core concepts and functionality of master pages has not changed since ASP.NET version 2.0.</span></span> <span data-ttu-id="bd0f5-156">但是，Visual Studio 2008 提供用于嵌套母版页的设计时支持已在 Visual Studio 2005 中缺少的功能。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-156">However, Visual Studio 2008 offers design-time support for nested master pages, a feature that was lacking in Visual Studio 2005.</span></span> <span data-ttu-id="bd0f5-157">我们将了解在将来的教程中使用嵌套的母版页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-157">We will look at using nested master pages in a future tutorial.</span></span>


<span data-ttu-id="bd0f5-158">图 2 显示的 www.asp.net 母版页可能如下所示。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-158">Figure 2 shows what the master page for www.asp.net might look like.</span></span> <span data-ttu-id="bd0f5-159">请注意主控页以及中间方，每个单独的 web 页的唯一内容所在 ContentPlaceHolder 定义常见的站点范围布局的在顶部、 底部和每一页的右侧的标记的。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-159">Note that the master page defines the common site-wide layout - the markup at the top, bottom, and right of every page - as well as a ContentPlaceHolder in the middle-left, where the unique content for each individual web page is located.</span></span>


![母版页内容页面的内容页基于定义的站点范围布局和可编辑区域](creating-a-site-wide-layout-using-master-pages-cs/_static/image4.png)

<span data-ttu-id="bd0f5-161">**图 02**： 母版页内容页面的内容页基于定义的站点范围布局和可编辑区域</span><span class="sxs-lookup"><span data-stu-id="bd0f5-161">**Figure 02**: A Master Page Defines the Site-Wide Layout and the Regions Editable on a Content Page-by-Content Page Basis</span></span>


<span data-ttu-id="bd0f5-162">在定义母版页后它可以绑定到新的 ASP.NET 页，通过一个复选框的刻度线。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-162">Once a master page has been defined it can be bound to new ASP.NET pages through the tick of a checkbox.</span></span> <span data-ttu-id="bd0f5-163">-调用内容页-这些 ASP.NET 页面包括用于每个母版页的 ContentPlaceHolder 控件内容控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-163">These ASP.NET pages - called content pages - include a Content control for each of the master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="bd0f5-164">时通过浏览器访问内容页 ASP.NET 引擎创建主页面控件层次结构，并将内容页控件层次结构注入到相应的位置。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-164">When the content page is visited through a browser the ASP.NET engine creates the master page's control hierarchy and injects the content page's control hierarchy into the appropriate places.</span></span> <span data-ttu-id="bd0f5-165">呈现此组合的控件层次结构，生成的 HTML 返回到最终用户的浏览器。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-165">This combined control hierarchy is rendered and the resulting HTML is returned to the end user's browser.</span></span> <span data-ttu-id="bd0f5-166">因此，内容页会发出 ContentPlaceHolder 控件的外部其母版页中定义的常见标记和在其自己的内容控件中定义的特定于页的标记。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-166">Consequently, the content page emits both the common markup defined in its master page outside of the ContentPlaceHolder controls and the page-specific markup defined within its own Content controls.</span></span> <span data-ttu-id="bd0f5-167">图 3 说明了这一概念。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-167">Figure 3 illustrates this concept.</span></span>


<span data-ttu-id="bd0f5-168">[![请求的页面的标记 Fused 到母版页](creating-a-site-wide-layout-using-master-pages-cs/_static/image6.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-168">[![The Requested Page's Markup is Fused into the Master Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image6.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image5.png)</span></span>

<span data-ttu-id="bd0f5-169">**图 03**: 请求页面标记 Fused 到母版页 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-169">**Figure 03**: The Requested Page's Markup is Fused into the Master Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image7.png))</span></span>


<span data-ttu-id="bd0f5-170">现在，我们已经讨论了如何母版页的工作原理，让我们看看创建母版页和使用 Visual Web Developer 的关联内容页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-170">Now that we have discussed how master pages work, let's take a look at creating a master page and associated content pages using Visual Web Developer.</span></span>

> [!NOTE]
> <span data-ttu-id="bd0f5-171">若要访问尽可能多的用户，我们在本教程系列整个生成 ASP.NET 网站将创建与 Microsoft 的免费版本的 Visual Studio 2008 中，使用 ASP.NET 3.5 [Visual Web Developer 2008](https://www.microsoft.com/express/vwd/)。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-171">In order to reach the widest possible audience, the ASP.NET website we build throughout this tutorial series will be created using ASP.NET 3.5 with Microsoft's free version of Visual Studio 2008, [Visual Web Developer 2008](https://www.microsoft.com/express/vwd/).</span></span> <span data-ttu-id="bd0f5-172">如果你尚未升级到 ASP.NET 3.5 中，不要担心-在这些教程工作中所述的概念同样有效的 ASP.NET 2.0 和 Visual Studio 2005。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-172">If you have not yet upgraded to ASP.NET 3.5, don't worry - the concepts discussed in these tutorials work equally well with ASP.NET 2.0 and Visual Studio 2005.</span></span> <span data-ttu-id="bd0f5-173">但是，某些演示应用程序可能使用的.NET framework 版本 3.5; 新增功能当使用 3.5 特定功能时，包括请注意，讨论如何在 2.0 版中实现类似的功能。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-173">However, some demo applications may use features new to the .NET Framework version 3.5; when 3.5-specific features are used, I include a note that discusses how to implement similar functionality in version 2.0.</span></span> <span data-ttu-id="bd0f5-174">执行请记住，可用于演示应用程序下载每个教程的目标从.NET Framework 3.5 版中，这会导致`Web.config`包括 3.5 特定配置元素和到 3.5 特定命名空间中的引用的文件`using` ASP.NET 页的代码隐藏类中的语句。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-174">Do keep in mind that the demo applications available for download from each tutorial target the .NET Framework version 3.5, which results in a `Web.config` file that includes 3.5-specific configuration elements and references to 3.5-specific namespaces in the `using` statements in ASP.NET pages' code-behind classes.</span></span> <span data-ttu-id="bd0f5-175">将无法正常长情景短，如果你尚未在您的计算机然后可下载的 web 应用程序上安装.NET 3.5 第一个删除从 3.5 特定标记`Web.config`。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-175">Long story short, if you have yet to install .NET 3.5 on your computer then the downloadable web application will not work without first removing the 3.5-specific markup from `Web.config`.</span></span> <span data-ttu-id="bd0f5-176">请参阅[将 ASP.NET 3.5 版的`Web.config`文件](http://www.4guysfromrolla.com/articles/121207-1.aspx)有关本主题的详细信息。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-176">See [Dissecting ASP.NET Version 3.5's `Web.config` File](http://www.4guysfromrolla.com/articles/121207-1.aspx) for more information on this topic.</span></span> <span data-ttu-id="bd0f5-177">你还需要删除`using`引用 3.5 特定命名空间的语句。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-177">You will also need to remove the `using` statements that reference 3.5-specific namespaces.</span></span>


## <a name="step-1-creating-a-master-page"></a><span data-ttu-id="bd0f5-178">步骤 1： 创建母版页</span><span class="sxs-lookup"><span data-stu-id="bd0f5-178">Step 1: Creating a Master Page</span></span>

<span data-ttu-id="bd0f5-179">我们可以浏览创建和使用母版页和内容页之前，我们首先需要 ASP.NET 网站。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-179">Before we can explore creating and using master and content pages, we first need an ASP.NET website.</span></span> <span data-ttu-id="bd0f5-180">首先，创建新的文件系统基于 ASP.NET 网站。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-180">Start by creating a new file system-based ASP.NET website.</span></span> <span data-ttu-id="bd0f5-181">若要完成此操作，启动 Visual Web Developer 中，然后转到文件菜单并选择新的网站，显示新建网站对话框框中 （请参见图 4）。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-181">To accomplish this, launch Visual Web Developer and then go to the File menu and choose New Web Site, displaying the New Web Site dialog box (see Figure 4).</span></span> <span data-ttu-id="bd0f5-182">选择 ASP.NET 网站模板，将位置下拉列表设置为文件系统、 选择一个文件夹，以将 web 站点，并将语言设置为 C#。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-182">Choose the ASP.NET Web Site template, set the Location drop-down list to File System, choose a folder to place the web site, and set the language to C#.</span></span> <span data-ttu-id="bd0f5-183">这将创建新的网站与`Default.aspx`ASP.NET 页中，`App_Data`文件夹中，和一个`Web.config`文件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-183">This will create a new web site with a `Default.aspx` ASP.NET page, an `App_Data` folder, and a `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="bd0f5-184">Visual Studio 支持两种项目管理模式： 网站项目和 Web 应用程序项目。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-184">Visual Studio supports two modes of project management: Web Site Projects and Web Application Projects.</span></span> <span data-ttu-id="bd0f5-185">网站项目缺少项目文件中，而 Web 应用程序项目模拟项目体系结构在 Visual Studio.NET 2002年/2003年-它们包括项目文件并将项目的源代码编译到单个程序集，并置于`/bin`文件夹。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-185">Web Site Projects lack a project file, whereas Web Application Projects mimic the project architecture in Visual Studio .NET 2002/2003 - they include a project file and compile the project's source code into a single assembly, which is placed in the `/bin` folder.</span></span> <span data-ttu-id="bd0f5-186">Visual Studio 2005 最初仅支持的网站项目，尽管[Web 应用程序项目模型](https://msdn.microsoft.com/en-us/library/aa730880(vs.80).aspx)已重新引入 Service Pack 1;Visual Studio 2008 提供这两种项目模型。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-186">Visual Studio 2005 initially only supported Web Site Projects, although the [Web Application Project model](https://msdn.microsoft.com/en-us/library/aa730880(vs.80).aspx) was reintroduced with Service Pack 1; Visual Studio 2008 offers both project models.</span></span> <span data-ttu-id="bd0f5-187">Visual Web Developer 2005 和 2008年版，但是，仅支持网站项目。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-187">The Visual Web Developer 2005 and 2008 editions, however, only support Web Site Projects.</span></span> <span data-ttu-id="bd0f5-188">我在本教程系列我演示使用网站项目模型。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-188">I use the Web Site Project model for my demos in this tutorial series.</span></span> <span data-ttu-id="bd0f5-189">如果你在使用非 Express edition，并想要改为使用 Web 应用程序项目模型，请尝试这样做，但请注意，可能会出现某些差异之间在你的屏幕和必须与所示的屏幕截图与 instructio 采取的步骤上看到的内容这些教程中提供的 ns。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-189">If you are using a non-Express edition and want to use the Web Application Project model instead, feel free to do so but be aware that there may be some discrepancies between what you see on your screen and the steps you must take versus the screen shots shown and instructions provided in these tutorials.</span></span>


<span data-ttu-id="bd0f5-190">[![创建新的文件系统基于 Web 站点](creating-a-site-wide-layout-using-master-pages-cs/_static/image9.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-190">[![Create a New File System-Based Web Site](creating-a-site-wide-layout-using-master-pages-cs/_static/image9.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image8.png)</span></span>

<span data-ttu-id="bd0f5-191">**图 04**： 创建 New File System-Based 网站 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-191">**Figure 04**: Create a New File System-Based Web Site  ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image10.png))</span></span>


<span data-ttu-id="bd0f5-192">接下来，添加母版页到站点的根目录中，方法是通过右键单击项目名称，选择添加新项，选择母版页模板。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-192">Next, add a master page to the site in the root directory by right-clicking on the Project name, choosing Add New Item, and selecting the Master Page template.</span></span> <span data-ttu-id="bd0f5-193">请注意以扩展名结尾母版页`.master`。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-193">Note that master pages end with the extension `.master`.</span></span> <span data-ttu-id="bd0f5-194">命名此新的母版页`Site.master`并单击添加。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-194">Name this new master page `Site.master` and click Add.</span></span>


<span data-ttu-id="bd0f5-195">[![将主页面添加名为 Site.master 到网站](creating-a-site-wide-layout-using-master-pages-cs/_static/image12.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-195">[![Add a Master Page Named Site.master to the Website](creating-a-site-wide-layout-using-master-pages-cs/_static/image12.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image11.png)</span></span>

<span data-ttu-id="bd0f5-196">**图 05**： 添加 Master 页命名`Site.master`到网站 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-196">**Figure 05**: Add a Master Page Named `Site.master` to the Website ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image13.png))</span></span>


<span data-ttu-id="bd0f5-197">添加 Visual Web Developer 通过新的主控页文件创建一个主页面，替换为以下的声明性标记：</span><span class="sxs-lookup"><span data-stu-id="bd0f5-197">Adding a new master page file through Visual Web Developer creates a master page with the following declarative markup:</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample1.aspx)]

<span data-ttu-id="bd0f5-198">声明性的标记中的第一行是[`@Master`指令](https://msdn.microsoft.com/en-us/library/ms228176.aspx)。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-198">The first line in the declarative markup is the [`@Master` directive](https://msdn.microsoft.com/en-us/library/ms228176.aspx).</span></span> <span data-ttu-id="bd0f5-199">`@Master`指令是类似于[`@Page`指令](https://msdn.microsoft.com/en-us/library/ydy4x04a.aspx)在 ASP.NET 页中显示。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-199">The `@Master` directive is similar to the [`@Page` directive](https://msdn.microsoft.com/en-us/library/ydy4x04a.aspx) that appears in ASP.NET pages.</span></span> <span data-ttu-id="bd0f5-200">它定义的服务器端语言 (C#) 和信息的位置和母版页的代码隐藏类的继承。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-200">It defines the server-side language (C#) and information about the location and inheritance of the master page's code-behind class.</span></span>

<span data-ttu-id="bd0f5-201">`DOCTYPE`和页面的声明性标记显示在下方`@Master`指令。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-201">The `DOCTYPE` and the page's declarative markup appears beneath the `@Master` directive.</span></span> <span data-ttu-id="bd0f5-202">该页面包括四个服务器端控件以及静态 HTML:</span><span class="sxs-lookup"><span data-stu-id="bd0f5-202">The page includes static HTML along with four server-side controls:</span></span>

- <span data-ttu-id="bd0f5-203">**Web 窗体 ( `<form runat="server">`)** -因为通常有一个 Web 窗体中的所有 ASP.NET 页面而且，因为主控页可能包括 Web 控件，它们必须出现在 Web 窗体-会确保将 Web 窗体添加到你的母版页 （而不是将 Web 窗体添加到 e位内容页）。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-203">**A Web Form (the `<form runat="server">`)** - because all ASP.NET pages typically have a Web Form - and because the master page may include Web controls that must appear within a Web Form - be sure to add the Web Form to your master page (rather than adding a Web Form to each content page).</span></span>
- <span data-ttu-id="bd0f5-204">**一个名为的 ContentPlaceHolder 控件`ContentPlaceHolder1`**  -此 ContentPlaceHolder 控件将显示在 Web 窗体，并作为内容页的用户界面的区域。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-204">**A ContentPlaceHolder control named `ContentPlaceHolder1`** - this ContentPlaceHolder control appears within the Web Form and serves as the region for the content page's user interface.</span></span>
- <span data-ttu-id="bd0f5-205">**服务器端`<head>`元素**-`<head>`元素具有`runat="server"`属性，使其可以通过服务器端代码访问。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-205">**A server-side `<head>` element** - the `<head>` element has the `runat="server"` attribute, making it accessible through server-side code.</span></span> <span data-ttu-id="bd0f5-206">`<head>`元素实现这种方式，以便页的标题和其他`<head>`-相关标记可能添加或以编程方式调整。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-206">The `<head>` element is implemented this way so that the page's title and other `<head>`-related markup may be added or adjusted programmatically.</span></span> <span data-ttu-id="bd0f5-207">例如，设置 ASP.NET 页的`Title`属性更改`<title>`元素呈现通过`<head>`服务器控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-207">For example, setting an ASP.NET page's `Title` property changes the `<title>` element rendered by the `<head>` server control.</span></span>
- <span data-ttu-id="bd0f5-208">**一个名为的 ContentPlaceHolder 控件`head`**  -此 ContentPlaceHolder 控件出现在`<head>`服务器控制和可用于以声明方式将内容添加到`<head>`元素。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-208">**A ContentPlaceHolder control named `head`** - this ContentPlaceHolder control appears within the `<head>` server control and can be used to declaratively add content to the `<head>` element.</span></span>

<span data-ttu-id="bd0f5-209">此默认母版页声明性标记用作设计你自己的母版页的起点。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-209">This default master page declarative markup serves as a starting point for designing your own master pages.</span></span> <span data-ttu-id="bd0f5-210">随意编辑 HTML 或将其他 Web 控件或 ContentPlaceHolders 添加到母版页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-210">Feel free to edit the HTML or to add additional Web controls or ContentPlaceHolders to the master page.</span></span>

> [!NOTE]
> <span data-ttu-id="bd0f5-211">设计母版页请确保母版页包含 Web 窗体，且此 Web 窗体中显示该至少一个 ContentPlaceHolder 控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-211">When designing a master page make sure that the master page contains a Web Form and that at least one ContentPlaceHolder control appears within this Web Form.</span></span>


### <a name="creating-a-simple-site-layout"></a><span data-ttu-id="bd0f5-212">创建简单的站点布局</span><span class="sxs-lookup"><span data-stu-id="bd0f5-212">Creating a Simple Site Layout</span></span>

<span data-ttu-id="bd0f5-213">让我们展开`Site.master`的默认声明性标记以创建所有页都共享的其中一个站点布局： 常见标头; 与导航、 新闻和其他站点范围的内容; 以及页脚显示的"支持的 Microsoft ASP.NET"图标左侧的列。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-213">Let's expand `Site.master`'s default declarative markup to create a site layout where all pages share: a common header; a left column with navigation, news and other site-wide content; and a footer that displays the "Powered by Microsoft ASP.NET" icon.</span></span> <span data-ttu-id="bd0f5-214">图 6 显示主控页的最终结果，通过浏览器查看其内容页之一时。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-214">Figure 6 shows the end result of the master page when one of its content pages is viewed through a browser.</span></span> <span data-ttu-id="bd0f5-215">在图 6 中的红色圆圈的区域是特定于正在访问过的网页 (`Default.aspx`); 其他内容是在所有内容页面的在母版页中定义并因此一致。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-215">The red circled region in Figure 6 is specific to the page being visited (`Default.aspx`); the other content is defined in the master page and therefore consistent across all content pages.</span></span>


<span data-ttu-id="bd0f5-216">[![母版页上边框、 左侧和底部部分定义标记](creating-a-site-wide-layout-using-master-pages-cs/_static/image15.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-216">[![The Master Page Defines the Markup for the Top, Left, and Bottom Portions](creating-a-site-wide-layout-using-master-pages-cs/_static/image15.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image14.png)</span></span>

<span data-ttu-id="bd0f5-217">**图 06**: 母版页上边框、 左侧和底部部分定义标记 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-217">**Figure 06**: The Master Page Defines the Markup for the Top, Left, and Bottom Portions ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image16.png))</span></span>


<span data-ttu-id="bd0f5-218">若要实现图 6 所示的站点布局，首先要更新`Site.master`母版页以使其包含以下声明性标记：</span><span class="sxs-lookup"><span data-stu-id="bd0f5-218">To achieve the site layout shown in Figure 6, start by updating the `Site.master` master page so that it contains the following declarative markup:</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="bd0f5-219">使用一系列定义母版页的布局`<div>`HTML 元素。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-219">The master page's layout is defined using a series of `<div>` HTML elements.</span></span> <span data-ttu-id="bd0f5-220">`topContent` `<div>`包含每个页上，顶部会显示的标记时`mainContent`， `leftContent`，和`footerContent` `<div>` s 用于显示页面的内容、 左侧的列中和"支持由 MicrosoftASP.NET"图标，分别。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-220">The `topContent` `<div>` contains the markup that appears at the top of each page, while the `mainContent`, `leftContent`, and `footerContent` `<div>` s are used to display the page's content, the left column, and the "Powered by Microsoft ASP.NET" icon, respectively.</span></span> <span data-ttu-id="bd0f5-221">除了添加这些`<div>`元素，我也已重命名`ID`从主 ContentPlaceHolder 控件属性`ContentPlaceHolder1`到`MainContent`。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-221">In addition to adding these `<div>` elements, I also renamed the `ID` property of the primary ContentPlaceHolder control from `ContentPlaceHolder1` to `MainContent`.</span></span>

<span data-ttu-id="bd0f5-222">这些各种类型的格式设置和布局规则`<div>`元素拼写是否在[级联样式表 (CSS)](http://en.wikipedia.org/wiki/Cascading_Style_Sheets)文件`Styles.css`，这通过指定&lt;链接&gt;中的元素母版页的&lt;头&gt;元素。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-222">The formatting and layout rules for these assorted `<div>` elements is spelled out in the [Cascading Stylesheet (CSS)](http://en.wikipedia.org/wiki/Cascading_Style_Sheets) file `Styles.css`, which is specified via a &lt;link&gt; element in the master page's &lt;head&gt; element.</span></span> <span data-ttu-id="bd0f5-223">这些内容的各种规则定义的每个外观和感觉`<div>`元素如上所示。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-223">These various rules define the look and feel of each `<div>` element noted above.</span></span> <span data-ttu-id="bd0f5-224">例如， `topContent` `<div>`元素，后者将显示"Master 页教程"文本和链接，具有中指定其格式设置规则`Styles.css`，如下所示：</span><span class="sxs-lookup"><span data-stu-id="bd0f5-224">For example, the `topContent` `<div>` element, which displays the "Master Pages Tutorials" text and link, has its formatting rules specified in `Styles.css` as follows:</span></span>

[!code-css[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample3.css)]

<span data-ttu-id="bd0f5-225">如果你是内容的观众在你的计算机，你将需要下载本教程随附的代码并将添加`Styles.css`到你的项目文件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-225">If you are following along at your computer, you will need to download this tutorial's accompanying code and add the `Styles.css` file to your project.</span></span> <span data-ttu-id="bd0f5-226">同样，你还需要创建一个名为映像文件夹并将"支持的 Microsoft ASP.NET"图标从下载的演示网站复制到你的项目。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-226">Similarly, you will also need to create a folder named Images and copy the "Powered by Microsoft ASP.NET" icon from the downloaded demo website to your project.</span></span>

> [!NOTE]
> <span data-ttu-id="bd0f5-227">CSS 和 web 页格式的讨论不在本文的范围。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-227">A discussion of CSS and web page formatting is beyond the scope of this article.</span></span> <span data-ttu-id="bd0f5-228">有关 CSS 的详细信息，请查看[CSS 教程](http://www.w3schools.com/css/default.asp)在[W3Schools.com](http://www.w3schools.com/)。我还鼓励你要下载本教程随附的代码并玩中的 CSS 设置`Styles.css`若要查看不同的格式设置规则的效果。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-228">For more on CSS, check out the [CSS Tutorials](http://www.w3schools.com/css/default.asp) at [W3Schools.com](http://www.w3schools.com/). I also encourage you to download this tutorial's accompanying code and play with the CSS settings in `Styles.css` to see the effects of different formatting rules.</span></span>


### <a name="creating-a-master-page-using-an-existing-design-template"></a><span data-ttu-id="bd0f5-229">创建使用现有设计模板母版页</span><span class="sxs-lookup"><span data-stu-id="bd0f5-229">Creating a Master Page Using an Existing Design Template</span></span>

<span data-ttu-id="bd0f5-230">多年来，我已生成大量的 ASP.NET web 应用程序对于小型到中型公司。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-230">Over the years I've built a number of ASP.NET web applications for small- to medium-sized companies.</span></span> <span data-ttu-id="bd0f5-231">我的客户端的一些具有想要使用; 的现有站点布局其他人的租期功能完善图形设计器。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-231">Some of my clients had an existing site layout they wanted to use; others hired a competent graphics designer.</span></span> <span data-ttu-id="bd0f5-232">一些委托我设计网站布局。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-232">A few entrusted me to design the website layout.</span></span> <span data-ttu-id="bd0f5-233">图 6 中可以看出，任务程序员能够设计网站的布局通常为明智的做法是为具有执行 open-heart surgery，而你 doctor 却你的税额你会计。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-233">As you can tell by Figure 6, tasking a programmer to design a website's layout is usually as wise as having your accountant perform open-heart surgery while your doctor does your taxes.</span></span>

<span data-ttu-id="bd0f5-234">幸运的是，存在 innumerous 提供免费 HTML 设计模板的网站-Google 返回六个 100 万个结果的搜索术语"免费网站模板"。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-234">Fortunately, there are innumerous websites that offer free HTML design templates - Google returned more than six million results for the search term "free website templates."</span></span> <span data-ttu-id="bd0f5-235">我最喜欢的之一是[OpenDesigns.org](http://opendesigns.org/)。一旦找到您喜欢的网站模板，将 CSS 文件和图像添加到你的网站项目，并将模板的 HTML 集成到你母版页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-235">One of my favorite ones is [OpenDesigns.org](http://opendesigns.org/). Once you find a website template you like, add the CSS files and images to your website project and integrate the template's HTML into your master page.</span></span>

> [!NOTE]
> <span data-ttu-id="bd0f5-236">Microsoft 还提供了多个[免费 ASP.NET 设计启动工具包模板](https://msdn.microsoft.com/en-us/asp.net/aa336613.aspx)，将集成到 Visual Studio 中的新建网站对话框。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-236">Microsoft also offers a number of [free ASP.NET Design Start Kit Templates](https://msdn.microsoft.com/en-us/asp.net/aa336613.aspx) that integrate into the New Web Site dialog box in Visual Studio.</span></span>


## <a name="step-2-creating-associated-content-pages"></a><span data-ttu-id="bd0f5-237">步骤 2： 创建关联内容页</span><span class="sxs-lookup"><span data-stu-id="bd0f5-237">Step 2: Creating Associated Content Pages</span></span>

<span data-ttu-id="bd0f5-238">创建的主页面，我们现在可以开始创建绑定到母版页的 ASP.NET 页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-238">With the master page created, we are ready to start creating ASP.NET pages that are bound to the master page.</span></span> <span data-ttu-id="bd0f5-239">此类页被称为*内容页*。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-239">Such pages are referred to as *content pages*.</span></span>

<span data-ttu-id="bd0f5-240">让我们向项目添加新的 ASP.NET 页，并将其绑定到`Site.master`母版页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-240">Let's add a new ASP.NET page to the project and bind it to the `Site.master` master page.</span></span> <span data-ttu-id="bd0f5-241">右键单击解决方案资源管理器中的项目名称，然后选择添加新项选项。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-241">Right-click on the project name in Solution Explorer and choose the Add New Item option.</span></span> <span data-ttu-id="bd0f5-242">选择 Web 窗体模板，输入名称`About.aspx`，然后选中"选择母版页"复选框，如图 7 所示。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-242">Select the Web Form template, enter the name `About.aspx`, and then check the "Select master page" checkbox as shown in Figure 7.</span></span> <span data-ttu-id="bd0f5-243">这样将显示选择母版页对话框框中，你可以选择主页后，可以使用从 （请参阅图 8）。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-243">Doing so will display the Select a Master Page dialog box (see Figure 8) from where you can choose the master page to use.</span></span>

> [!NOTE]
> <span data-ttu-id="bd0f5-244">如果你创建 ASP.NET 网站而不网站项目模型使用的 Web 应用程序项目模型则将看不图 7 所示的添加新项对话框中的"选择母版页"复选框。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-244">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 7.</span></span> <span data-ttu-id="bd0f5-245">若要创建内容页时使用 Web 应用程序项目模型你必须选择而不是 Web 窗体模板的 Web 内容窗体模板。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-245">To create a content page when using the Web Application Project model you must choose the Web Content Form template instead of the Web Form template.</span></span> <span data-ttu-id="bd0f5-246">在选择内容的 Web 窗体模板，然后单击添加后, 相同选择 Master 页将出现图 8 所示的对话框。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-246">After selecting the Web Content Form template and clicking Add, the same Select a Master Page dialog box shown in Figure 8 will appear.</span></span>


<span data-ttu-id="bd0f5-247">[![添加新的内容页](creating-a-site-wide-layout-using-master-pages-cs/_static/image18.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-247">[![Add a New Content Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image18.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image17.png)</span></span>

<span data-ttu-id="bd0f5-248">**图 07**： 添加新的内容页 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-248">**Figure 07**: Add a New Content Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image19.png))</span></span>


<span data-ttu-id="bd0f5-249">[![选择 Site.master 母版页](creating-a-site-wide-layout-using-master-pages-cs/_static/image21.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-249">[![Select the Site.master Master Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image21.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image20.png)</span></span>

<span data-ttu-id="bd0f5-250">**图 08**： 选择`Site.master`母版页 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-250">**Figure 08**: Select the `Site.master` Master Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image22.png))</span></span>


<span data-ttu-id="bd0f5-251">如下面的声明性标记所示，新的内容页包含`@Page`，指回其主页和内容控件的每个母版页的 ContentPlaceHolder 控件的指令。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-251">As the following declarative markup shows, a new content page contains a `@Page` directive that points back to its master page and a Content control for each of the master page's ContentPlaceHolder controls.</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample4.aspx)]

> [!NOTE]
> <span data-ttu-id="bd0f5-252">在步骤 1 中的"创建简单站点布局"一节中我重命名`ContentPlaceHolder1`到`MainContent`。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-252">In the "Creating a Simple Site Layout" section in Step 1 I renamed `ContentPlaceHolder1` to `MainContent`.</span></span> <span data-ttu-id="bd0f5-253">如果你没有重命名此 ContentPlaceHolder 控件`ID`相同的方式，你内容页面的声明性标记略有不同，根据上面所示的标记。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-253">If you did not rename this ContentPlaceHolder control's `ID` in the same way, your content page's declarative markup will differ slightly from the markup shown above.</span></span> <span data-ttu-id="bd0f5-254">也就是说，第二个内容控件的`ContentPlaceHolderID`将反映`ID`相应 ContentPlaceHolder 控制你母版页中。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-254">Namely, the second Content control's `ContentPlaceHolderID` will reflect the `ID` of the corresponding ContentPlaceHolder control in your master page.</span></span>


<span data-ttu-id="bd0f5-255">当呈现内容页、 ASP.NET 引擎必须保险丝页面的内容与其母版页 ContentPlaceHolder 控件的控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-255">When rendering a content page, the ASP.NET engine must fuse the page's Content controls with its master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="bd0f5-256">ASP.NET 引擎确定内容页的母版页从`@Page`指令的`MasterPageFile`属性。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-256">The ASP.NET engine determines the content page's master page from the `@Page` directive's `MasterPageFile` attribute.</span></span> <span data-ttu-id="bd0f5-257">如上面的标记所示，此内容页绑定到`~/Site.master`。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-257">As the above markup shows, this content page is bound to `~/Site.master`.</span></span>

<span data-ttu-id="bd0f5-258">因为主控页具有两个 ContentPlaceHolder 控件-`head`和`MainContent`-Visual Web Developer 生成两个内容控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-258">Because the master page has two ContentPlaceHolder controls - `head` and `MainContent` - Visual Web Developer generated two Content controls.</span></span> <span data-ttu-id="bd0f5-259">每个内容控件引用通过特定 ContentPlaceHolder 其`ContentPlaceHolderID`属性。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-259">Each Content control references a particular ContentPlaceHolder via its `ContentPlaceHolderID` property.</span></span>

<span data-ttu-id="bd0f5-260">其中母版页增加亮点过上一个站点范围模板方法是使用它们的设计时支持。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-260">Where master pages shine over previous site-wide template techniques is with their design-time support.</span></span> <span data-ttu-id="bd0f5-261">图 9 显示`About.aspx`内容页查看通过 Visual Web Developer 设计视图时。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-261">Figure 9 shows the `About.aspx` content page when viewed through Visual Web Developer's Design view.</span></span> <span data-ttu-id="bd0f5-262">请注意，尽管母版页内容是可见的它将灰显且不能修改。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-262">Note that while the master page content is visible, it is grayed out and cannot be modified.</span></span> <span data-ttu-id="bd0f5-263">内容控件与母版页的 ContentPlaceHolders 相对应的但是，可编辑。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-263">The Content controls corresponding to the master page's ContentPlaceHolders are, however, editable.</span></span> <span data-ttu-id="bd0f5-264">并且，就像使用任何其他 ASP.NET 页中，你可以创建内容页的接口通过添加通过源或设计视图的 Web 控件一样。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-264">And just like with any other ASP.NET page, you can create the content page's interface by adding Web controls through the Source or Design views.</span></span>


<span data-ttu-id="bd0f5-265">[![内容页的设计视图显示这两个特定于页的和主页面内容](creating-a-site-wide-layout-using-master-pages-cs/_static/image24.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-265">[![The Content Page's Design View Displays Both the Page-Specific and Master Page Contents](creating-a-site-wide-layout-using-master-pages-cs/_static/image24.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image23.png)</span></span>

<span data-ttu-id="bd0f5-266">**图 09**: 内容页面的设计视图显示两个特定于页的和 Master 页面内容 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-266">**Figure 09**: The Content Page's Design View Displays Both the Page-Specific and Master Page Contents ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image25.png))</span></span>


### <a name="adding-markup-and-web-controls-to-the-content-page"></a><span data-ttu-id="bd0f5-267">将标记和 Web 控件添加到内容页</span><span class="sxs-lookup"><span data-stu-id="bd0f5-267">Adding Markup and Web Controls to the Content Page</span></span>

<span data-ttu-id="bd0f5-268">花一些时间创建的某些内容`About.aspx`页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-268">Take a moment to create some content for the `About.aspx` page.</span></span> <span data-ttu-id="bd0f5-269">如你所见图 10 中，我输入"有关作者"标题和几个段落的文本，但随意太添加 Web 控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-269">As you can see in Figure 10, I entered an "About the Author" heading and a couple of paragraphs of text, but feel free to add Web controls, too.</span></span> <span data-ttu-id="bd0f5-270">在创建之后此接口，请访问`About.aspx`通过浏览器的页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-270">After creating this interface, visit the `About.aspx` page through a browser.</span></span>


<span data-ttu-id="bd0f5-271">[![请访问 About.aspx 页通过浏览器](creating-a-site-wide-layout-using-master-pages-cs/_static/image27.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-271">[![Visit the About.aspx Page Through a Browser](creating-a-site-wide-layout-using-master-pages-cs/_static/image27.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image26.png)</span></span>

<span data-ttu-id="bd0f5-272">**图 10**： 访问`About.aspx`通过浏览器页面 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-272">**Figure 10**: Visit the `About.aspx` Page Through a Browser ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image28.png))</span></span>


<span data-ttu-id="bd0f5-273">请务必了解请求的内容页和其关联的母版页是 fused，作为一个整体的 web 服务器上完全呈现。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-273">It is important to understand that the requested content page and its associated master page are fused and rendered as a whole entirely on the web server.</span></span> <span data-ttu-id="bd0f5-274">最终用户的浏览器然后会发送的生成、 融合 HTML。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-274">The end user's browser is then sent the resulting, fused HTML.</span></span> <span data-ttu-id="bd0f5-275">若要验证这一点，请查看浏览器通过转到视图菜单并选择数据源收到的 HTML。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-275">To verify this, view the HTML received by the browser by going to the View menu and choosing Source.</span></span> <span data-ttu-id="bd0f5-276">请注意，有不帧或任何其他专用的技术，用于在单个窗口中显示两个不同的 web 页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-276">Note that there are no frames or any other specialized techniques for displaying two different web pages in a single window.</span></span>

### <a name="binding-a-master-page-to-an-existing-aspnet-page"></a><span data-ttu-id="bd0f5-277">绑定到现有的 ASP.NET 页的母版页</span><span class="sxs-lookup"><span data-stu-id="bd0f5-277">Binding a Master Page to an Existing ASP.NET Page</span></span>

<span data-ttu-id="bd0f5-278">正如我们看到在此步骤中，将新的内容页添加到 ASP.NET web 应用程序非常简单，只需选中"选择母版页"复选框和选取母版页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-278">As we saw in this step, adding a new content page to an ASP.NET web application is as easy as checking the "Select master page" checkbox and picking the master page.</span></span> <span data-ttu-id="bd0f5-279">遗憾的是，将现有的 ASP.NET 页转换为母版页不一样简单。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-279">Unfortunately, converting an existing ASP.NET page to a master page is not as easy.</span></span>

<span data-ttu-id="bd0f5-280">若要绑定到现有的 ASP.NET 页的母版页需要执行以下步骤：</span><span class="sxs-lookup"><span data-stu-id="bd0f5-280">To bind a master page to an existing ASP.NET page you need to perform the following steps:</span></span>

1. <span data-ttu-id="bd0f5-281">添加`MasterPageFile`属性设为 ASP.NET 页`@Page`指令，其指向适当的母版页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-281">Add the `MasterPageFile` attribute to the ASP.NET page's `@Page` directive, pointing it to the appropriate master page.</span></span>
2. <span data-ttu-id="bd0f5-282">为每个 ContentPlaceHolders 母版页中添加内容控件。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-282">Add Content controls for each of the ContentPlaceHolders in the master page.</span></span>
3. <span data-ttu-id="bd0f5-283">有选择地剪切并粘贴到相应的内容控件的 ASP.NET 页的现有内容。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-283">Selectively cut and paste the ASP.NET page's existing content into the appropriate Content controls.</span></span> <span data-ttu-id="bd0f5-284">我说"有选择地"此处因为 ASP.NET 页上可能会包含标记为已由表示主页上，如`DOCTYPE`、`<html>`元素和 Web 窗体。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-284">I say "selectively" here because the ASP.NET page likely contains markup that's already expressed by the master page, such as the `DOCTYPE`, the `<html>` element, and the Web Form.</span></span>

<span data-ttu-id="bd0f5-285">屏幕快照以及此过程的分步说明，请查看[Scott Guthrie](https://weblogs.asp.net/scottgu/)的[使用母版页和网站的导航](http://webproject.scottgu.com/CSharp/MasterPages/MasterPages.aspx)教程。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-285">For step-by-step instructions on this process along with screen shots, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s [Using Master Pages and Site Navigation](http://webproject.scottgu.com/CSharp/MasterPages/MasterPages.aspx) tutorial.</span></span> <span data-ttu-id="bd0f5-286">"更新`Default.aspx`和`DataSample.aspx`使用母版页"部分将详细介绍这些步骤。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-286">The "Update `Default.aspx` and `DataSample.aspx` to use the Master Page" section details these steps.</span></span>

<span data-ttu-id="bd0f5-287">因为它是可以更轻松地创建新的内容页不是它是将现有的 ASP.NET 页转换为内容页，建议，每当你创建新的 ASP.NET 网站添加母版页到站点。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-287">Because it is much easier to create new content pages than it is to convert existing ASP.NET pages into content pages, I recommend that whenever you create a new ASP.NET website add a master page to the site.</span></span> <span data-ttu-id="bd0f5-288">将所有新的 ASP.NET 页面绑定到此母版页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-288">Bind all new ASP.NET pages to this master page.</span></span> <span data-ttu-id="bd0f5-289">如果初始母版页是非常简单或普通; 请不要担心你可以稍后更新母版页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-289">Don't worry if the initial master page is very simple or plain; you can update the master page later.</span></span>

> [!NOTE]
> <span data-ttu-id="bd0f5-290">在创建新的 ASP.NET 应用程序时，Visual Web Developer 将添加`Default.aspx`没有绑定到母板页的页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-290">When creating a new ASP.NET application, Visual Web Developer adds a `Default.aspx` page that isn't bound to a master page.</span></span> <span data-ttu-id="bd0f5-291">如果你要将现有的 ASP.NET 页转换为内容页的做法，请继续并完成此操作`Default.aspx`。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-291">If you want to practice converting an existing ASP.NET page into a content page, go ahead and do so with `Default.aspx`.</span></span> <span data-ttu-id="bd0f5-292">或者，可以删除`Default.aspx`并随后重新添加它，但这一次检查"选择母版页"复选框。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-292">Alternatively, you can delete `Default.aspx` and then re-add it, but this time checking the "Select master page" checkbox.</span></span>


## <a name="step-3-updating-the-master-pages-markup"></a><span data-ttu-id="bd0f5-293">步骤 3： 更新母版页的标记</span><span class="sxs-lookup"><span data-stu-id="bd0f5-293">Step 3: Updating the Master Page's Markup</span></span>

<span data-ttu-id="bd0f5-294">为母版页的主要优点之一是使用单个母版页可能用于定义在站点上的多页的总体布局。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-294">One of the primary benefits of master pages is that a single master page may be used to define the overall layout for numerous pages on the site.</span></span> <span data-ttu-id="bd0f5-295">因此，在更新站点的外观和感觉需要更新单个文件的主控页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-295">Therefore, updating the site's look and feel requires updating a single file - the master page.</span></span>

<span data-ttu-id="bd0f5-296">为了说明此行为，让我们更新我们的主页面，以包含在顶部左侧列中的当前日期。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-296">To illustrate this behavior, let's update our master page to include the current date in at the top of the left column.</span></span> <span data-ttu-id="bd0f5-297">添加一个名为标签`DateDisplay`到`leftContent` `<div>`。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-297">Add a Label named `DateDisplay` to the `leftContent` `<div>`.</span></span>

[!code-aspx[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="bd0f5-298">接下来，创建`Page_Load`事件处理程序主页上，添加以下代码：</span><span class="sxs-lookup"><span data-stu-id="bd0f5-298">Next, create a `Page_Load` event handler for the master page and add the following code:</span></span>

[!code-csharp[Main](creating-a-site-wide-layout-using-master-pages-cs/samples/sample6.cs)]

<span data-ttu-id="bd0f5-299">上面的代码中设置的标签`Text`属性的当前日期和时间格式化为日期是星期几、 月和两位数日期的名称 （请参阅图 11）。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-299">The above code sets the Label's `Text` property to the current date and time formatted as the day of the week, the name of the month, and the two-digit day (see Figure 11).</span></span> <span data-ttu-id="bd0f5-300">进行此更改后，重新访问您的内容页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-300">With this change, revisit one of your content pages.</span></span> <span data-ttu-id="bd0f5-301">图 11 显示，生成的标记立即更新以包括对主页上的更改。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-301">As Figure 11 shows, the resulting markup is immediately updated to include the change to the master page.</span></span>


<span data-ttu-id="bd0f5-302">[![对 Master 页上的更改会反映时查看内容页](creating-a-site-wide-layout-using-master-pages-cs/_static/image30.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="bd0f5-302">[![The Changes to the Master Page are Reflected When Viewing the a Content Page](creating-a-site-wide-layout-using-master-pages-cs/_static/image30.png)](creating-a-site-wide-layout-using-master-pages-cs/_static/image29.png)</span></span>

<span data-ttu-id="bd0f5-303">**图 11**: 母版页的更改都反映时查看内容页 ([单击以查看实际尺寸的图像](creating-a-site-wide-layout-using-master-pages-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="bd0f5-303">**Figure 11**: The Changes to the Master Page are Reflected When Viewing the a Content Page ([Click to view full-size image](creating-a-site-wide-layout-using-master-pages-cs/_static/image31.png))</span></span>


> [!NOTE]
> <span data-ttu-id="bd0f5-304">如本示例所示，母版页可能包含服务器端 Web 控件、 代码和事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-304">As this example illustrates, master pages may contain server-side Web controls, code, and event handlers.</span></span>


## <a name="summary"></a><span data-ttu-id="bd0f5-305">摘要</span><span class="sxs-lookup"><span data-stu-id="bd0f5-305">Summary</span></span>

<span data-ttu-id="bd0f5-306">主控页启用 ASP.NET 开发人员设计一致的站点范围布局是可轻松地更新。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-306">Master pages enable ASP.NET developers to design a consistent site-wide layout that is easily updateable.</span></span> <span data-ttu-id="bd0f5-307">Visual Web Developer 提供丰富的设计时支持，则创建母版页和其关联的内容页非常简单，创建标准 ASP.NET 页。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-307">Creating master pages and their associated content pages is as simple as creating standard ASP.NET pages, as Visual Web Developer offers rich design-time support.</span></span>

<span data-ttu-id="bd0f5-308">我们在本教程中创建的母版页示例有两个 ContentPlaceHolder 控件，`head`和`MainContent`。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-308">The master page example we created in this tutorial had two ContentPlaceHolder controls, `head` and `MainContent`.</span></span> <span data-ttu-id="bd0f5-309">我们仅指定标记`MainContent`ContentPlaceHolder 在内容页中，但是控制。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-309">We only specified markup for the `MainContent` ContentPlaceHolder control in our content page, however.</span></span> <span data-ttu-id="bd0f5-310">在下一教程我们查看使用多个内容控件在内容页中的。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-310">In the next tutorial we look at using multiple Content controls in the content page.</span></span> <span data-ttu-id="bd0f5-311">我们还将了解如何定义默认标记为内容控件中主页上，以及如何使用默认值之间进行切换标记中定义主页面并提供从内容页自定义标记。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-311">We also see how to define default markup for Content controls within the master page, as well as how to toggle between using the default markup defined in the master page and providing custom markup from the content page.</span></span>

<span data-ttu-id="bd0f5-312">尽情享受编程 ！</span><span class="sxs-lookup"><span data-stu-id="bd0f5-312">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="bd0f5-313">其他阅读材料</span><span class="sxs-lookup"><span data-stu-id="bd0f5-313">Further Reading</span></span>

<span data-ttu-id="bd0f5-314">在本教程中讨论的主题的详细信息，请参阅以下资源：</span><span class="sxs-lookup"><span data-stu-id="bd0f5-314">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="bd0f5-315">设计器的 ASP.NET： 上生成 ASP.NET 网站使用 Web 标准释放设计模板和指南</span><span class="sxs-lookup"><span data-stu-id="bd0f5-315">ASP.NET for Designers: Free Design Templates and Guidance on Building ASP.NET Websites Using Web Standards</span></span>](https://msdn.microsoft.com/en-us/asp.net/aa336602.aspx)
- [<span data-ttu-id="bd0f5-316">ASP.NET Master 页概述</span><span class="sxs-lookup"><span data-stu-id="bd0f5-316">ASP.NET Master Pages Overview</span></span>](https://msdn.microsoft.com/en-us/library/wtxbf3hh.aspx)
- [<span data-ttu-id="bd0f5-317">级联样式表 (CSS) 教程</span><span class="sxs-lookup"><span data-stu-id="bd0f5-317">Cascading Stylesheets (CSS) Tutorials</span></span>](http://www.w3schools.com/css/default.asp)
- [<span data-ttu-id="bd0f5-318">动态设置页的标题</span><span class="sxs-lookup"><span data-stu-id="bd0f5-318">Dynamically Setting the Page's Title</span></span>](http://aspnet.4guysfromrolla.com/articles/051006-1.aspx)
- [<span data-ttu-id="bd0f5-319">在 ASP.NET 母版页</span><span class="sxs-lookup"><span data-stu-id="bd0f5-319">Master Pages in ASP.NET</span></span>](http://www.odetocode.com/articles/419.aspx)
- [<span data-ttu-id="bd0f5-320">母版页的快速入门教程</span><span class="sxs-lookup"><span data-stu-id="bd0f5-320">Master Pages QuickStart Tutorials</span></span>](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/masterpages/default.aspx)

### <a name="about-the-author"></a><span data-ttu-id="bd0f5-321">关于作者</span><span class="sxs-lookup"><span data-stu-id="bd0f5-321">About the Author</span></span>

<span data-ttu-id="bd0f5-322">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，作者的多个 ASP/ASP.NET 丛书和 4GuysFromRolla.com 创始人，具有已使用 Microsoft Web 技术自 1998 年。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-322">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="bd0f5-323">Scott 的作用是作为独立的顾问、 培训师和编写器。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-323">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="bd0f5-324">最新书籍是[ *Sam 教授自己 ASP.NET 3.5 24 小时内*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-324">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="bd0f5-325">可以在达到 Scott [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com)或通过在其博客地址[http://ScottOnWriting.NET](http://scottonwriting.net/)。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-325">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="bd0f5-326">特别感谢</span><span class="sxs-lookup"><span data-stu-id="bd0f5-326">Special Thanks To</span></span>

<span data-ttu-id="bd0f5-327">对感兴趣查看我即将到来的 MSDN 文章？</span><span class="sxs-lookup"><span data-stu-id="bd0f5-327">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="bd0f5-328">如果是这样，删除我一行[ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com)。</span><span class="sxs-lookup"><span data-stu-id="bd0f5-328">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="bd0f5-329">下一篇</span><span class="sxs-lookup"><span data-stu-id="bd0f5-329">Next</span></span>](multiple-contentplaceholders-and-default-content-cs.md)
